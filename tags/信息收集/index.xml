<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>信息收集 on woieha320r</title>
    <link>https://woieha320r.github.io/tags/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/</link>
    <description>Recent content in 信息收集 on woieha320r</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>zh-cn</language>
    <lastBuildDate>Thu, 25 Aug 2022 21:23:27 +0800</lastBuildDate><atom:link href="https://woieha320r.github.io/tags/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>WAF绕过</title>
      <link>https://woieha320r.github.io/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/waf%E7%BB%95%E8%BF%87/</link>
      <pubDate>Thu, 25 Aug 2022 21:23:27 +0800</pubDate>
      
      <guid>https://woieha320r.github.io/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/waf%E7%BB%95%E8%BF%87/</guid>
      <description>WAF绕过 TODO:待看绕过思路
https://zhuanlan.zhihu.com/p/411351728 https://www.freebuf.com/articles/web/336869.html https://www.freebuf.com/articles/network/326312.html https://cloud.tencent.com/developer/article/1969001 https://blog.csdn.net/weixin_55837124/article/details/118034812 https://www.secpulse.com/archives/176763.html https://blog.csdn.net/weixin_50464560/article/details/120926097 https://harmoc.com/secnote/waf绕过思路整理.html https://blog.csdn.net/qq_53577336/article/details/119897773 WAF · 识别目标站是否使用了防火墙。WAF可以是硬件的、软件的、云厂商的、代码注入式的。
· 如果存在WAF，后续的所有操作需要人工进行绕过，不可用工具频繁自动化进行，会被封IP。
WAF识别 看响应头字段
常见的WAF拦截页面
https://github.com/stamparm/identYwaf/tree/master/screenshots
https://mp.weixin.qq.com/s/8F060FU9g_78z57UKS-JsQ
⚠️频繁探测目标站⚠️工具识别（一般是根据http头、拦截页的文字图片特征来识别
wafw00f WAF绕过 TODO</description>
    </item>
    
    <item>
      <title>敏感文件</title>
      <link>https://woieha320r.github.io/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/%E6%95%8F%E6%84%9F%E6%96%87%E4%BB%B6/</link>
      <pubDate>Tue, 23 Aug 2022 23:21:06 +0800</pubDate>
      
      <guid>https://woieha320r.github.io/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/%E6%95%8F%E6%84%9F%E6%96%87%E4%BB%B6/</guid>
      <description>敏感文件 CMS · 查询其使用的CMS的默认配置文件等敏感文件
写给爬虫的文件、flash跨域策略文件 /robots.txt
定义了哪些路径不想被爬虫爬取 /crossdomain.xml
flash的跨域策略文件，可配置允许哪些域服务器读写自己服务器的数据 /sitemap.xml
告知搜索引擎网站中可供抓取的网址 代码版本管理工具文件泄露 /.git/
利用工具：https://github.com/BugScanTeam/GitHack /CVS/
利用工具：https://github.com/kost/dvcs-ripper.git /.svn/
利用工具：https://github.com/admintony/svnExploit /.hg/
利用工具：https://github.com/kost/dvcs-ripper.git WEB-INF/
WEB-INF/web.xml：Web应用程序配置文件
WEB-INF/database.properties：数据库配置文件
WEB-INF/classes/：class文件
WEB-INF/lib/：jar包
WEB-INF/src/：源码
其他泄露 .DS_store
Mac下Finder用来保存如何展示 文件/文件夹 的数据文件，每个文件夹下对应一个。
利用工具：https://github.com/lijiejie/ds_store_exp
Google
管理页/错误页：site:目标域 system | 系统 | 内部 | admin | 管理 | center | 中心 | manage | login | 登录 | 登陆 | 后台 | api | 接口 | 用户名 | 密码 | err | 错误 | warn | 警告 | denied | 拒绝 | username | passw | old | bak | backup | 备份 | 日志 | log 某后缀名的文件：site:目标域 filetype:txt | filetype:log | filetype:sql | filetype:xml | filetype:pdf | filetype:doc | filetype:docx | filetype:xls | filetype:xlsx | filetype:rar | filetype:zip | filetype:7z | filetype:tar.</description>
    </item>
    
    <item>
      <title>CMS识别</title>
      <link>https://woieha320r.github.io/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/cms%E8%AF%86%E5%88%AB/</link>
      <pubDate>Sun, 21 Aug 2022 22:13:18 +0800</pubDate>
      
      <guid>https://woieha320r.github.io/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/cms%E8%AF%86%E5%88%AB/</guid>
      <description>CMS识别 CMS · 看网站是否采用搭建模版搭建。一方面模版本身会存在漏洞，另一方面模版会有固定的配置文件路径、管理后台页、默认管理员用户密码&amp;hellip;&amp;hellip;
CMS识别 如果响应头的Server字段很全，大概率是CMS
找线索
站点页脚的声明
站点向搜索引擎或爬虫声明的策略文件：/robots.txt
响应头
代码中的注释
url等路径名称
是否是CMS统一的报错页面
在线平台
http://whatweb.bugscaner.com/look/
https://whatcms.org
利用工具暴力猜测（⚠️频繁试探目标会遭到waf拦截⚠️工具识别（一般是记录CMS轻易不会被修改的特征路径或文件，做成字典，去访问下目标站有没有这个路径或文件
whatweb </description>
    </item>
    
    <item>
      <title>CDN绕过</title>
      <link>https://woieha320r.github.io/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/cdn%E7%BB%95%E8%BF%87/</link>
      <pubDate>Fri, 19 Aug 2022 00:11:02 +0800</pubDate>
      
      <guid>https://woieha320r.github.io/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/cdn%E7%BB%95%E8%BF%87/</guid>
      <description>CDN绕过 · 并不一定能找到源IP并在外部直接访问，它可能隐藏于CDN之后并且对访问设置了IP白名单
CDN 如果目标站点使用了CDN，一般目标域名会被设置为另一个域名的cname记录，负责解析那个cname记录的DNS会依据负载均衡或LDNS的地理位置或其他算法返 回给LDNS一个或多个IP，LDNS只会交给浏览器一个IP。
需要绕开CDN得到真实服务器的IP地址，因为对CDN发起攻击是没有意义的，得到的这个IP的几种情况：
是个服务器但不一定就只有一个网站
是个反向代理，真实服务器在内网
不管怎样，与这个站相关的操作都要用域名进行，与服务器相关的用IP进行，因为可能一个服务器上配置了多个站点
多站点技术-虚拟主机
多个网站位于同台服务器，配置不同域名指向不同目录 多站点技术-反向代理
多个网站位于内网中的其他多个服务器，配置不同域名指向不同内网服务器 CDN判定和绕过 如果host解析过程中有cname记录，多半有cdn
host xxx.com 多地DNS解析A记录
平台：https://www.itdog.cn/dns/
手动：host -t a 世界各地DNS：http://ip.yqie.com/dns.htm
找只有1条结果且都相同的那个IP
如果各地解析得到的都是一个相同的IP列表，尝试通过IP归属地找到离公司城市最近的IP
如果目标域名不是泛解析，找它业务量不大的子域名的ip，比如邮箱：尝试查询其mx和在txt记录里的的spf，拿到疑似同域名的邮箱服务器域名，重复上述 过程。但也不一定就和目标是同一台服务器
如果都猜不到，我也不知道了🤷‍♂️，比如douban.com
寻找目标站是否提供了主动链接外部站点的服务，比如通过url上传图片或发送邮件等，让其从自己的主机上下载内容，监听其来源IP，邮件源码会包含邮件服务 器的IP
得到的这个ip填入hosts文件，确保解析dns的工具或浏览器们清除历史缓存以确保解析修改过的hosts文件，浏览器访问以验证这个IP是否可以访问目标站。
F5 BIG-IP LTM Cookie保持机制解码IP · 标志：Set-Cookie: BIGipServer&amp;hellip;..
· 利用工具：https://github.com/ezelf/f5_cookieLeaks.git
app渗透 · 目标家的app的请求地址是否泄露真实IP
同ip站查询 · 平台查询：https://www.webscan.cc</description>
    </item>
    
    <item>
      <title>域名</title>
      <link>https://woieha320r.github.io/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/%E5%9F%9F%E5%90%8D/</link>
      <pubDate>Wed, 17 Aug 2022 00:07:07 +0800</pubDate>
      
      <guid>https://woieha320r.github.io/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/%E5%9F%9F%E5%90%8D/</guid>
      <description>域名 DNS · n IP &amp;lt;-&amp;gt; n 域名，购买域名买的是二级域名（xxx.com），可自由编造多级域名创建多条“IP &amp;lt;-&amp;gt; 域名 绑定记录”（www.xxx.com、a.b.c.xxx.com）。
· 浏览器将域名转为IP的过程：查询本机hosts文件，没有的话询问ISP提供的LDNS，此后的工作由LDNS负责直至得到IP地址返回给浏览器或无结果。LDNS没有的 话，它首先询问根DNS，递归式的询问被问者返回的NS记录中指定的DNS，期间也会处理CNAME别名，直到拿到A记录。LDNS可以拿到n个A记录，它根据算法得出一个 IP返回给浏览器使用。
· 权威DNS也许是自家的也许是云厂商的，可能还负责CDN和WAF。
报文Type的含义 Type取值 样例 含义 A xxx.com. IN A x.x.x.x xxx.com的IPv4地址是x.x.x.x AAAA xxx.com. IN AAAA X:X:X:X:X:X:X:X xxx.com的IPv6地址是X:X:X:X:X:X:X:X CNAME test1.xxx.com. IN CNAME test.xxx.com. test1.xxx.com是test.xxx.com的别名 MX xm.com. IN MX 10 mail.xxx.com. 发送给@xm.com的邮件，收件人邮件服务器域名是mail.xxx.com，优先级为10 NS xxx.com. IN NS ns1.xxx.com. xxx.com这个域名由ns1.xxx.com这个DNS负责解析 SOA 指定域名的众多NS记录中，哪个DNS是最佳数据来源 TXT xxx.com. IN TXT &amp;ldquo;备注说明&amp;rdquo; xxx.com的备注说明 TXT的SPF应用 xxx.com. IN TXT &amp;ldquo;v=spf1 include:mail.xxx.com -all&amp;rdquo; 一种写给收件服务器看的判定规则，防止他人伪装成我的邮箱服务器发邮件 AXFR 从DNS向主DNS索要指定域名的全部记录，用于备份容灾 SRV 类似A，但同时还指定了端口、提供的协议、优先级、权重，如何解读取决于客户端 PTR DNS返回指定IP绑定的域名列表，用于垃圾邮件过滤，需要主动配置 常见问题 泛解析</description>
    </item>
    
    <item>
      <title>Google语法</title>
      <link>https://woieha320r.github.io/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/google%E8%AF%AD%E6%B3%95/</link>
      <pubDate>Mon, 15 Aug 2022 20:00:05 +0800</pubDate>
      
      <guid>https://woieha320r.github.io/%E6%B8%97%E9%80%8F%E6%B5%8B%E8%AF%95/%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/google%E8%AF%AD%E6%B3%95/</guid>
      <description>Google语法 url：https://www.google.com/search?q= 除表示“或”必须用“OR”外，一律不区分大小写 通配符“*”表示任意一个单词，“.”表示任意一个字符 条件最多包含32个单词，多个通配符算一个，多个引号算一个 &amp;#34;Google Hacker&amp;#34; 在任意位置必须包含同等顺序的单词组合 Google +Hacker 任意位置包含Google并且必须包含Hacker，不可忽略 Google -gogle -goo 任意位置出现Google并且排除gogle和goo intitle、inurl、intext 标题中出现、URL中出现、正文中出现 site:google.com 所有托管在google.com域名下的网页，包括子域 url中添加&amp;amp;lr=lang_ch限定中文的xxx搜索结果，但实际上它的工作方式是返回主机可能位于中国的网页，判断方式包括顶级域、IP... 设定每页x个结果，返回第y页 url中添加&amp;amp;num=x&amp;amp;start=(y-1)*x filetype:pdf 后缀名为pdf的文件 link:www.xxx.com 可以链接到www.xxx.com的网页 inanchor:xxx 搜索如下形式的链接：&amp;lt;a href=&amp;#34;yyyyyyy&amp;#34;&amp;gt;xxx&amp;lt;/a&amp;gt; numrange:1-4 搜索包含这个范围的数字文本的 daterange:2452164-2452164 限制为google在儒略日2452164这一天索引到的页面 URL中使用&amp;amp;as_qdr=m3 限制为google在过去3个月中索引到的页面 cache:www.baidu.com 访问google缓存的www.baidu.com的页面，但图片仍然会从baidu站点下载，要想不和baidu有任何联系只查看google的文本缓存，在url尾部添加&amp;amp;strip=1 inurl:backup | inurl:bak | inurl:temp | inurl:tmp inrul:db_connect.inc &amp;#34;&amp;lt;?&amp;#34; 搜索泄露数据库信息的php文件 filetype:mdb 搜索access数据库文件 搜索电子邮件的方式，谷歌可能会忽略@和.，可以适当添加email或邮箱等关键字来缩小结果 前缀 at 邮箱域名.com 前缀 at 邮箱域名 dot com 前缀@邮箱域名 dot com 前缀_at_邮箱域名.com 前缀_at_邮箱域名 dot com 前缀_at_邮箱域名_dot_com 前缀@邮箱域名.remove.com 前缀@_removethis_邮箱域名.com 验证是否存在这个邮箱：nc或telnet到邮箱服务器的25端口，RCPT TO: &amp;lt;目标邮箱&amp;gt;，不存在的话会返回失败 如果一个网站使用的都是.</description>
    </item>
    
  </channel>
</rss>
